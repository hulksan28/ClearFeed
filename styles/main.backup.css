/* ClearFeed Design System */

:root {
    --color-bg-primary: #fafafa;
    --color-bg-secondary: #ffffff;
    --color-bg-tertiary: #f4f4f5;
    --color-bg-hover: #e4e4e7;
    --color-bg-overlay: rgba(0, 0, 0, 0.4);
    --color-text-primary: #18181b;
    --color-text-secondary: #52525b;
    --color-text-tertiary: #71717a;
    --color-text-muted: #a1a1aa;
    --color-accent: #059669;
    --color-accent-hover: #047857;
    --color-accent-subtle: #d1fae5;
    --color-border: #e4e4e7;
    --color-border-subtle: #f4f4f5;
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.06);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.08);
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    --font-serif: 'Lora', Georgia, serif;
    --text-xs: 0.75rem; --text-sm: 0.875rem; --text-base: 1rem;
    --text-lg: 1.125rem; --text-xl: 1.25rem; --text-2xl: 1.5rem; --text-3xl: 1.875rem;
    --leading-tight: 1.25; --leading-normal: 1.5; --leading-relaxed: 1.75;
    --space-1: 0.25rem; --space-2: 0.5rem; --space-3: 0.75rem; --space-4: 1rem;
    --space-5: 1.25rem; --space-6: 1.5rem; --space-8: 2rem; --space-10: 2.5rem;
    --space-12: 3rem; --space-16: 4rem;
    --sidebar-width: 280px; --content-max-width: 720px; --article-max-width: 680px;
    --transition-fast: 150ms ease; --transition-base: 200ms ease; --transition-slow: 300ms ease;
    --radius-sm: 4px; --radius-md: 8px; --radius-lg: 12px; --radius-xl: 16px;
}

[data-theme="dark"] {
    --color-bg-primary: #0f0f0f; --color-bg-secondary: #171717;
    --color-bg-tertiary: #1f1f1f; --color-bg-hover: #2a2a2a;
    --color-bg-overlay: rgba(0, 0, 0, 0.7);
    --color-text-primary: #fafafa; --color-text-secondary: #a1a1aa;
    --color-text-tertiary: #71717a; --color-text-muted: #52525b;
    --color-accent: #34d399; --color-accent-hover: #6ee7b7; --color-accent-subtle: #064e3b;
    --color-border: #2a2a2a; --color-border-subtle: #1f1f1f;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; -webkit-font-smoothing: antialiased; }
body { font-family: var(--font-sans); color: var(--color-text-primary); background: var(--color-bg-primary); min-height: 100vh; line-height: var(--leading-normal); }
h1, h2, h3, h4, h5, h6 { font-weight: 600; line-height: var(--leading-tight); }
a { color: var(--color-accent); text-decoration: none; }
button, input { font-family: inherit; border: none; background: none; outline: none; }
button { cursor: pointer; color: inherit; }
ul { list-style: none; }

.app-container { display: flex; min-height: 100vh; }

.sidebar { width: var(--sidebar-width); height: 100vh; position: fixed; left: 0; top: 0; background: var(--color-bg-secondary); border-right: 1px solid var(--color-border); display: flex; flex-direction: column; z-index: 100; transition: transform var(--transition-slow); }
.sidebar-header { padding: var(--space-6); border-bottom: 1px solid var(--color-border-subtle); }
.logo { display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-2); }
.logo-icon { width: 28px; height: 28px; color: var(--color-accent); }
.logo-text { font-size: var(--text-xl); font-weight: 600; letter-spacing: -0.02em; }
.tagline { font-size: var(--text-sm); color: var(--color-text-tertiary); font-style: italic; }
.sidebar-search { display: flex; align-items: center; gap: var(--space-3); background: var(--color-bg-tertiary); border-radius: var(--radius-md); padding: var(--space-3) var(--space-4); margin: var(--space-4) var(--space-6); transition: background var(--transition-fast); }
.sidebar-search:focus-within { background: var(--color-bg-hover); }
.search-icon { width: 18px; height: 18px; color: var(--color-text-tertiary); flex-shrink: 0; }
.sidebar-search input { flex: 1; color: var(--color-text-primary); font-size: var(--text-sm); }
.sidebar-search input::placeholder { color: var(--color-text-muted); }
.sidebar-nav { flex: 1; overflow-y: auto; padding: var(--space-4) 0; }
.nav-list { display: flex; flex-direction: column; gap: var(--space-1); padding: 0 var(--space-3); }
.nav-item { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); color: var(--color-text-secondary); font-size: var(--text-sm); font-weight: 500; cursor: pointer; transition: all var(--transition-fast); }
.nav-item:hover { background: var(--color-bg-tertiary); color: var(--color-text-primary); }
.nav-item.active { background: var(--color-accent-subtle); color: var(--color-accent); }
.nav-item svg { width: 18px; height: 18px; flex-shrink: 0; }
.nav-item span:first-of-type { flex: 1; }
.nav-count { font-size: var(--text-xs); font-weight: 600; color: var(--color-text-muted); background: var(--color-bg-tertiary); padding: var(--space-1) var(--space-2); border-radius: var(--radius-sm); min-width: 24px; text-align: center; }
.nav-item.active .nav-count { background: var(--color-accent); color: white; }
.sidebar-footer { padding: var(--space-4) var(--space-6); border-top: 1px solid var(--color-border-subtle); }
.theme-toggle { display: flex; align-items: center; gap: var(--space-3); width: 100%; padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); color: var(--color-text-secondary); font-size: var(--text-sm); transition: all var(--transition-fast); }
.theme-toggle:hover { background: var(--color-bg-tertiary); color: var(--color-text-primary); }
.theme-toggle svg { width: 18px; height: 18px; }
.icon-moon { display: none; }
[data-theme="dark"] .icon-sun { display: none; }
[data-theme="dark"] .icon-moon { display: block; }
.sidebar-info { margin-top: var(--space-4); padding-top: var(--space-4); border-top: 1px solid var(--color-border-subtle); }
.sidebar-info p { font-size: var(--text-xs); color: var(--color-text-muted); text-align: center; }

.main-content { flex: 1; margin-left: var(--sidebar-width); min-height: 100vh; background: var(--color-bg-primary); }
.main-header { position: sticky; top: 0; z-index: 50; display: flex; justify-content: space-between; align-items: center; padding: var(--space-6) var(--space-8); background: var(--color-bg-primary); border-bottom: 1px solid var(--color-border); backdrop-filter: blur(8px); }
.main-header h1 { font-size: var(--text-2xl); font-weight: 600; margin-bottom: var(--space-1); }
.header-subtitle { font-size: var(--text-sm); color: var(--color-text-tertiary); }
.view-toggle { display: flex; gap: var(--space-1); background: var(--color-bg-tertiary); padding: var(--space-1); border-radius: var(--radius-md); }
.view-btn { display: flex; align-items: center; justify-content: center; width: 36px; height: 36px; border-radius: var(--radius-sm); color: var(--color-text-tertiary); transition: all var(--transition-fast); }
.view-btn:hover { color: var(--color-text-primary); }
.view-btn.active { background: var(--color-bg-secondary); color: var(--color-text-primary); box-shadow: var(--shadow-sm); }
.view-btn svg { width: 18px; height: 18px; }

.feed-container { padding: var(--space-8); max-width: 900px; }
.feed-container.compact .article-card { padding: var(--space-4) var(--space-5); }
.feed-container.compact .article-card .article-excerpt { display: none; }
.feed-container.compact .article-card .article-title { font-size: var(--text-base); margin-bottom: var(--space-2); }

.article-card { background: var(--color-bg-secondary); border: 1px solid var(--color-border); border-radius: var(--radius-lg); padding: var(--space-6); margin-bottom: var(--space-4); cursor: pointer; transition: all var(--transition-base); }
.article-card:hover { border-color: var(--color-accent); box-shadow: var(--shadow-md); transform: translateY(-2px); }
.article-meta { display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3); flex-wrap: wrap; }
.article-source { font-size: var(--text-xs); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--color-accent); }
.article-category { font-size: var(--text-xs); color: var(--color-text-tertiary); background: var(--color-bg-tertiary); padding: var(--space-1) var(--space-2); border-radius: var(--radius-sm); }
.article-time { font-size: var(--text-xs); color: var(--color-text-muted); }
.article-title { font-family: var(--font-serif); font-size: var(--text-xl); font-weight: 500; line-height: var(--leading-tight); margin-bottom: var(--space-3); }
.article-excerpt { font-size: var(--text-sm); color: var(--color-text-secondary); line-height: var(--leading-relaxed); margin-bottom: var(--space-4); display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
.article-footer { display: flex; align-items: center; justify-content: space-between; padding-top: var(--space-4); border-top: 1px solid var(--color-border-subtle); }
.reading-info { display: flex; align-items: center; gap: var(--space-4); }
.reading-time { display: flex; align-items: center; gap: var(--space-2); font-size: var(--text-xs); color: var(--color-text-tertiary); }
.reading-time svg { width: 14px; height: 14px; }
.clarity-badge { display: flex; align-items: center; gap: var(--space-2); font-size: var(--text-xs); color: var(--color-accent); background: var(--color-accent-subtle); padding: var(--space-1) var(--space-2); border-radius: var(--radius-sm); }
.clarity-badge svg { width: 12px; height: 12px; }
.read-more { font-size: var(--text-sm); font-weight: 500; color: var(--color-accent); display: flex; align-items: center; gap: var(--space-2); transition: gap var(--transition-fast); }
.article-card:hover .read-more { gap: var(--space-3); }
.read-more svg { width: 16px; height: 16px; }

.article-overlay { position: fixed; inset: 0; z-index: 200; background: var(--color-bg-overlay); display: flex; justify-content: center; align-items: flex-start; padding: var(--space-8); overflow-y: auto; opacity: 0; visibility: hidden; transition: all var(--transition-base); }
.article-overlay.active { opacity: 1; visibility: visible; }
.article-detail { width: 100%; max-width: var(--article-max-width); background: var(--color-bg-secondary); border-radius: var(--radius-xl); box-shadow: var(--shadow-xl); position: relative; transform: translateY(20px); transition: transform var(--transition-slow); margin: var(--space-8) auto; }
.article-overlay.active .article-detail { transform: translateY(0); }
.close-btn { position: absolute; top: var(--space-4); right: var(--space-4); width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: var(--color-bg-tertiary); color: var(--color-text-secondary); transition: all var(--transition-fast); z-index: 10; }
.close-btn:hover { background: var(--color-bg-hover); color: var(--color-text-primary); }
.close-btn svg { width: 20px; height: 20px; }
.article-content { padding: var(--space-12) var(--space-10); }
.article-content .article-header { margin-bottom: var(--space-8); padding-bottom: var(--space-6); border-bottom: 1px solid var(--color-border); }
.article-content .article-meta { margin-bottom: var(--space-4); }
.article-content .article-title { font-size: var(--text-3xl); margin-bottom: var(--space-4); }
.article-content .article-stats { display: flex; align-items: center; gap: var(--space-6); flex-wrap: wrap; }
.article-body { font-family: var(--font-serif); font-size: var(--text-lg); line-height: var(--leading-relaxed); color: var(--color-text-secondary); }
.article-body p { margin-bottom: var(--space-6); }
.article-body p:last-child { margin-bottom: 0; }
.article-body strong { color: var(--color-text-primary); font-weight: 600; }
.original-comparison { background: var(--color-bg-tertiary); border-radius: var(--radius-lg); padding: var(--space-6); margin-top: var(--space-8); }
.original-comparison h4 { font-family: var(--font-sans); font-size: var(--text-sm); font-weight: 600; color: var(--color-text-tertiary); margin-bottom: var(--space-3); text-transform: uppercase; letter-spacing: 0.05em; }
.comparison-stats { display: flex; gap: var(--space-6); flex-wrap: wrap; }
.comparison-stat { display: flex; flex-direction: column; gap: var(--space-1); }
.comparison-stat .value { font-family: var(--font-sans); font-size: var(--text-2xl); font-weight: 600; color: var(--color-accent); }
.comparison-stat .label { font-family: var(--font-sans); font-size: var(--text-xs); color: var(--color-text-muted); }

.empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: var(--space-16); text-align: center; }
.empty-state svg { width: 64px; height: 64px; color: var(--color-text-muted); margin-bottom: var(--space-6); }
.empty-state h3 { font-size: var(--text-lg); margin-bottom: var(--space-2); }
.empty-state p { font-size: var(--text-sm); color: var(--color-text-tertiary); }

@media (max-width: 1024px) {
    .sidebar { transform: translateX(-100%); }
    .sidebar.open { transform: translateX(0); }
    .main-content { margin-left: 0; }
}

@media (max-width: 640px) {
    .main-header { flex-direction: column; align-items: flex-start; gap: var(--space-4); padding: var(--space-4) var(--space-6); }
    .feed-container { padding: var(--space-6); }
    .article-card { padding: var(--space-4); }
    .article-title { font-size: var(--text-lg); }
    .article-content { padding: var(--space-8) var(--space-6); }
    .article-content .article-title { font-size: var(--text-2xl); }
}

::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--color-text-muted); }
:focus-visible { outline: 2px solid var(--color-accent); outline-offset: 2px; }
::selection { background: var(--color-accent-subtle); color: var(--color-accent); }
